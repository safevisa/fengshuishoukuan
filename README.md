# äº¬ä¸–ç›ˆé£æ°´æ”¶æ¬¾ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Next.js 14 çš„ç°ä»£åŒ–æ”¶æ¬¾é“¾æ¥ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼ï¼Œä¸“ä¸ºé£æ°´å•†å“é”€å”®è®¾è®¡ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **æ”¶æ¬¾é“¾æ¥ç®¡ç†**: åˆ›å»ºã€ç®¡ç†å’Œåˆ†äº«æ”¶æ¬¾é“¾æ¥
- **å¤šç§æ”¯ä»˜æ–¹å¼**: æ”¯æŒè¡—å£æ”¯ä»˜ï¼Œå¯æ‰©å±•å…¶ä»–æ”¯ä»˜æ–¹å¼
- **ç”¨æˆ·ç®¡ç†**: ç®¡ç†å‘˜å’Œå•†æˆ·ç”¨æˆ·æƒé™ç®¡ç†
- **è®¢å•ç®¡ç†**: å®Œæ•´çš„è®¢å•ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **è´¢åŠ¡æŠ¥å‘Š**: è¯¦ç»†çš„è´¢åŠ¡ç»Ÿè®¡å’Œå¯¹è´¦æŠ¥å‘Š
- **æç°ç®¡ç†**: ç”¨æˆ·æç°ç”³è¯·å’Œå¤„ç†

### æŠ€æœ¯ç‰¹æ€§
- **ç°ä»£åŒ–æ¶æ„**: Next.js 14 + TypeScript + Tailwind CSS
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **æ”¯ä»˜æŠ½è±¡å±‚**: æ˜“äºæ‰©å±•æ–°çš„æ”¯ä»˜æ–¹å¼
- **æ•°æ®åº“ä¼˜åŒ–**: MySQL è¿æ¥æ± å’Œæ€§èƒ½ä¼˜åŒ–
- **å®‰å…¨è®¤è¯**: JWT ä»¤ç‰Œå’Œæƒé™æ§åˆ¶
- **å®æ—¶æ›´æ–°**: è‡ªåŠ¨åˆ·æ–°å’Œæ‰‹åŠ¨åˆ·æ–°åŠŸèƒ½

## ğŸ“ é¡¹ç›®ç»“æ„

```
fengshui-ecommerce/
â”œâ”€â”€ app/                          # Next.js åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ admin/                    # ç®¡ç†å‘˜åå°
â”‚   â”œâ”€â”€ api/                      # API è·¯ç”±
â”‚   â”œâ”€â”€ auth/                     # è®¤è¯é¡µé¢
â”‚   â”œâ”€â”€ dashboard/                # ç”¨æˆ·å·¥ä½œå°
â”‚   â””â”€â”€ pay/                      # æ”¯ä»˜é¡µé¢
â”œâ”€â”€ components/                   # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui ç»„ä»¶åº“
â”‚   â”œâ”€â”€ admin-guard.tsx          # ç®¡ç†å‘˜æƒé™å®ˆå«
â”‚   â””â”€â”€ user-guard.tsx           # ç”¨æˆ·æƒé™å®ˆå«
â”œâ”€â”€ lib/                         # å·¥å…·åº“
â”‚   â”œâ”€â”€ payment/                 # æ”¯ä»˜æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ auth.ts                  # è®¤è¯å·¥å…·
â”‚   â”œâ”€â”€ database.ts              # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ mysql-database.ts        # MySQL æ“ä½œ
â”‚   â””â”€â”€ types.ts                 # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ scripts/                     # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ create-admin.js          # åˆ›å»ºç®¡ç†å‘˜è„šæœ¬
â”‚   â”œâ”€â”€ test-database.js         # æ•°æ®åº“æµ‹è¯•
â”‚   â””â”€â”€ update-database-schema.sql # æ•°æ®åº“æ›´æ–°
â””â”€â”€ docs/                        # æ–‡æ¡£
    â”œâ”€â”€ 6s-dev-standard.md       # å¼€å‘è§„èŒƒ
    â””â”€â”€ PAYMENT_EXTENSION_GUIDE.md # æ”¯ä»˜æ‰©å±•æŒ‡å—
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Next.js 14, React 18, TypeScript
- **æ ·å¼**: Tailwind CSS, shadcn/ui
- **æ•°æ®åº“**: MySQL 8.0
- **æ”¯ä»˜**: è¡—å£æ”¯ä»˜ (JkoPay)
- **è®¤è¯**: JWT
- **éƒ¨ç½²**: Docker, PM2

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- MySQL 8.0+
- pnpm (æ¨è) æˆ– npm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/safevisa/fengshuishoukuan.git
cd fengshuishoukuan
```

2. **å®‰è£…ä¾èµ–**
```bash
pnpm install
# æˆ–
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp env.example .env.local
```

ç¼–è¾‘ `.env.local` æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“å’Œæ”¯ä»˜å‚æ•°ï¼š
```env
# MySQL æ•°æ®åº“é…ç½®
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=fengshui_user
MYSQL_PASSWORD=fengshui_password
MYSQL_DATABASE=fengshui_ecommerce

# è¡—å£æ”¯ä»˜é…ç½®
JKOPAY_MERCHANT_ID=1888
JKOPAY_TERMINAL_ID=888506
JKOPAY_SECRET_KEY=your_secret_key
JKOPAY_RETURN_URL=http://localhost:3000/payment/return
JKOPAY_NOTIFY_URL=http://localhost:3000/api/jkopay/callback

# åº”ç”¨é…ç½®
JWT_SECRET=your_jwt_secret_key
NODE_ENV=development
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
# åˆ›å»ºæ•°æ®åº“å’Œè¡¨
mysql -u root -p < init-database.sql

# æˆ–ä½¿ç”¨è„šæœ¬
node scripts/create-admin.js
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
pnpm dev
# æˆ–
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜åå°
- è®¿é—® `/admin` è¿›å…¥ç®¡ç†å‘˜åå°
- é»˜è®¤ç®¡ç†å‘˜è´¦å·: `admin@jinshiying.com` / `admin123`
- åŠŸèƒ½åŒ…æ‹¬: ç”¨æˆ·ç®¡ç†ã€è®¢å•ç®¡ç†ã€è´¢åŠ¡æŠ¥å‘Šã€æ•°æ®å¯¼å‡º

### ç”¨æˆ·å·¥ä½œå°
- è®¿é—® `/dashboard` è¿›å…¥ç”¨æˆ·å·¥ä½œå°
- å•†æˆ·ç”¨æˆ·å¯ä»¥åˆ›å»ºæ”¶æ¬¾é“¾æ¥ã€æŸ¥çœ‹è®¢å•ã€ç”³è¯·æç°
- æ”¯æŒå›¾ç‰‡ä¸Šä¼ ã€ä¸€æ¬¡æ€§é“¾æ¥ã€ä½¿ç”¨æ¬¡æ•°é™åˆ¶

### æ”¯ä»˜æµç¨‹
1. å•†æˆ·åˆ›å»ºæ”¶æ¬¾é“¾æ¥
2. å®¢æˆ·è®¿é—®æ”¯ä»˜é¡µé¢ `/pay/[linkId]`
3. è‡ªåŠ¨è·³è½¬åˆ°è¡—å£æ”¯ä»˜
4. æ”¯ä»˜å®Œæˆåå›è°ƒæ›´æ–°è®¢å•çŠ¶æ€

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
é¡¹ç›®éµå¾ª 6S å¼€å‘æ ‡å‡†ï¼Œè¯¦è§ `docs/6s-dev-standard.md`ï¼š
- **æ•´ç† (Sort)**: æ¶ˆé™¤å†—ä½™ä»£ç 
- **æ•´é¡¿ (Set in Order)**: ç»Ÿä¸€é¡¹ç›®ç»“æ„
- **æ¸…æ‰« (Shine)**: ä¿æŒä»£ç æ¸…æ´
- **æ ‡å‡†åŒ– (Standardize)**: ç»Ÿä¸€ç¼–ç è§„èŒƒ
- **ç»´æŒ (Sustain)**: æŒç»­æ”¹è¿›
- **å®‰å…¨ (Security)**: å®‰å…¨ç¬¬ä¸€

### æ”¯ä»˜æ–¹å¼æ‰©å±•
é¡¹ç›®é‡‡ç”¨æ”¯ä»˜æŠ½è±¡å±‚è®¾è®¡ï¼Œæ˜“äºæ‰©å±•æ–°çš„æ”¯ä»˜æ–¹å¼ã€‚è¯¦è§ `docs/PAYMENT_EXTENSION_GUIDE.md`ã€‚

### æ•°æ®åº“ç®¡ç†
- ä½¿ç”¨ MySQL 8.0
- æ”¯æŒè¿æ¥æ± å’Œè‡ªåŠ¨é‡è¿
- æä¾›æ•°æ®åº“æ›´æ–°è„šæœ¬

## ğŸš€ éƒ¨ç½²

### Docker éƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t fengshui-ecommerce .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 fengshui-ecommerce
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
1. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
2. æ„å»ºåº”ç”¨: `npm run build`
3. ä½¿ç”¨ PM2 å¯åŠ¨: `pm2 start npm --name "fengshui" -- start`

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¿—ç›‘æ§
- æ‰€æœ‰ API éƒ½æœ‰è¯¦ç»†çš„æ—¥å¿—è®°å½•
- æ”¯ä»˜å›è°ƒæœ‰å®Œæ•´çš„é”™è¯¯å¤„ç†
- æ•°æ®åº“æ“ä½œæœ‰æ€§èƒ½ç›‘æ§

### æ•°æ®å¤‡ä»½
- å®šæœŸå¤‡ä»½ MySQL æ•°æ®åº“
- å¯¼å‡ºåŠŸèƒ½æ”¯æŒ CSV æ ¼å¼
- æä¾›æ•°æ®æ¢å¤è„šæœ¬

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- åˆ›å»º Issue
- å‘é€é‚®ä»¶è‡³: support@jinshiying.com
- è®¿é—®å®˜ç½‘: https://jinshiying.com

---

**äº¬ä¸–ç›ˆé£æ°´æ”¶æ¬¾ç³»ç»Ÿ** - è®©æ”¶æ¬¾æ›´ç®€å•ï¼Œè®©ç®¡ç†æ›´é«˜æ•ˆï¼