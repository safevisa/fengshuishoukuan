# é£æ°´æ‘†ä»¶ç”µå•†ç½‘ç«™ - Node.js ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

## ğŸš€ ä¸€é”®éƒ¨ç½²æ–¹æ¡ˆ

åŸºäºæ‚¨çš„æœåŠ¡å™¨é…ç½®ï¼ˆæ–°åŠ å¡ï¼Œ1 vCPUï¼Œ4GB RAMï¼Œ30GB NVMeï¼‰ï¼Œæˆ‘ä»¬æä¾›äº†ä¸‰ç§éƒ¨ç½²æ–¹æ¡ˆï¼š

### æ–¹æ¡ˆä¸€ï¼šå¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
wget https://raw.githubusercontent.com/safevisa/baijian/main/quick-deploy.sh
chmod +x quick-deploy.sh
./quick-deploy.sh
```

### æ–¹æ¡ˆäºŒï¼šå®Œæ•´éƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
wget https://raw.githubusercontent.com/safevisa/baijian/main/deploy-nodejs-production.sh
chmod +x deploy-nodejs-production.sh
./deploy-nodejs-production.sh
```

### æ–¹æ¡ˆä¸‰ï¼šä¼˜åŒ–éƒ¨ç½²ï¼ˆæ¨èé«˜æ€§èƒ½éœ€æ±‚ï¼‰
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
wget https://raw.githubusercontent.com/safevisa/baijian/main/server-optimized.sh
chmod +x server-optimized.sh
./server-optimized.sh
```

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. æœåŠ¡å™¨è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04 LTS
- **CPU**: 1 vCPU æˆ–æ›´é«˜
- **å†…å­˜**: 4GB RAM æˆ–æ›´é«˜
- **å­˜å‚¨**: 30GB NVMe æˆ–æ›´é«˜
- **ç½‘ç»œ**: å…¬ç½‘IPï¼Œå¼€æ”¾80ã€443ç«¯å£

### 2. åŸŸåé…ç½®
ç¡®ä¿åŸŸå `jinshiying.com` å·²è§£æåˆ°æœåŠ¡å™¨IP `45.77.248.70`

### 3. æœåŠ¡å™¨è®¿é—®
```bash
# ä½¿ç”¨SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh root@45.77.248.70
# å¯†ç : b{R4$ih5jxe-Lzxx
```

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1ï¼šè¿æ¥æœåŠ¡å™¨
```bash
ssh root@45.77.248.70
```

### æ­¥éª¤2ï¼šé€‰æ‹©éƒ¨ç½²æ–¹æ¡ˆ
æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©ä¸Šè¿°ä¸‰ç§æ–¹æ¡ˆä¹‹ä¸€

### æ­¥éª¤3ï¼šç­‰å¾…éƒ¨ç½²å®Œæˆ
éƒ¨ç½²è¿‡ç¨‹å¤§çº¦éœ€è¦5-10åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…

### æ­¥éª¤4ï¼šé…ç½®SSLè¯ä¹¦
```bash
# å®‰è£…SSLè¯ä¹¦
certbot --nginx -d jinshiying.com -d www.jinshiying.com
```

### æ­¥éª¤5ï¼šæµ‹è¯•åŠŸèƒ½
è®¿é—® https://jinshiying.com æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

## ğŸ¯ åŠŸèƒ½æµ‹è¯•

### æµ‹è¯•è´¦å·
- **ç®¡ç†å‘˜**: `admin@jinshiying.com` / `admin123`
- **æµ‹è¯•ç”¨æˆ·**: `test@jinshiying.com` / `test123`

### æµ‹è¯•é¡¹ç›®
1. **ç”¨æˆ·æ³¨å†Œå’Œç™»å½•**
   - æ³¨å†Œæ–°ç”¨æˆ·
   - ç®¡ç†å‘˜ç™»å½•
   - è·¨è®¾å¤‡ç™»å½•æµ‹è¯•

2. **æ”¯ä»˜åŠŸèƒ½**
   - åˆ›å»ºæ”¶æ¬¾é“¾æ¥
   - æ”¯ä»˜æµç¨‹æµ‹è¯•
   - æ”¯ä»˜å›è°ƒæµ‹è¯•

3. **ç®¡ç†åå°**
   - ç”¨æˆ·ç®¡ç†
   - è®¢å•ç®¡ç†
   - æ•°æ®ç»Ÿè®¡

## ğŸ“Š ç®¡ç†å‘½ä»¤

### åº”ç”¨ç®¡ç†
```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
systemctl status fengshui-app

# é‡å¯åº”ç”¨
systemctl restart fengshui-app

# åœæ­¢åº”ç”¨
systemctl stop fengshui-app

# å¯åŠ¨åº”ç”¨
systemctl start fengshui-app
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
journalctl -u fengshui-app -f

# æŸ¥çœ‹Nginxæ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log
```

### ç›‘æ§è„šæœ¬
```bash
# è¿è¡Œç›‘æ§è„šæœ¬
/opt/fengshui-ecommerce/monitor.sh

# æŸ¥çœ‹æ—¥å¿—
/opt/fengshui-ecommerce/logs.sh

# æ›´æ–°åº”ç”¨
/opt/fengshui-ecommerce/update.sh

# å¤‡ä»½æ•°æ®
/opt/fengshui-ecommerce/backup.sh
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. åº”ç”¨æ— æ³•å¯åŠ¨
```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
journalctl -u fengshui-app -n 50

# æ£€æŸ¥ç«¯å£å ç”¨
ss -tlnp | grep 3000

# é‡å¯åº”ç”¨
systemctl restart fengshui-app
```

#### 2. Nginxé…ç½®é”™è¯¯
```bash
# æµ‹è¯•Nginxé…ç½®
nginx -t

# é‡æ–°åŠ è½½é…ç½®
systemctl reload nginx
```

#### 3. åŸŸåæ— æ³•è®¿é—®
```bash
# æ£€æŸ¥DNSè§£æ
nslookup jinshiying.com

# æ£€æŸ¥é˜²ç«å¢™
ufw status

# æ£€æŸ¥ç«¯å£ç›‘å¬
ss -tlnp | grep -E ':(80|443)'
```

#### 4. æ”¯ä»˜åŠŸèƒ½å¼‚å¸¸
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
cat /opt/fengshui-ecommerce/fengshui-ecommerce/.env.production

# æ£€æŸ¥æ”¯ä»˜APIé…ç½®
curl -I https://gateway.suntone.com/payment/api/gotoPayment
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç³»ç»Ÿä¼˜åŒ–
- å·²é…ç½®å†…æ ¸å‚æ•°ä¼˜åŒ–
- å·²è®¾ç½®æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
- å·²ä¼˜åŒ–å†…å­˜ä½¿ç”¨

### åº”ç”¨ä¼˜åŒ–
- ä½¿ç”¨pnpmæå‡å®‰è£…é€Ÿåº¦
- é…ç½®é™æ€æ–‡ä»¶ç¼“å­˜
- å¯ç”¨gzipå‹ç¼©

### ç›‘æ§å»ºè®®
- å®šæœŸæ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨
- ç›‘æ§åº”ç”¨æ—¥å¿—
- å®šæœŸå¤‡ä»½æ•°æ®

## ğŸ”’ å®‰å…¨é…ç½®

### å·²é…ç½®çš„å®‰å…¨æªæ–½
- é˜²ç«å¢™è§„åˆ™
- SSL/TLSåŠ å¯†
- å®‰å…¨å¤´è®¾ç½®
- ç”¨æˆ·æƒé™æ§åˆ¶

### å»ºè®®çš„å®‰å…¨æªæ–½
- å®šæœŸæ›´æ–°ç³»ç»Ÿ
- ç›‘æ§å¼‚å¸¸è®¿é—®
- å¤‡ä»½é‡è¦æ•°æ®
- ä½¿ç”¨å¼ºå¯†ç 

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. æœåŠ¡å™¨é…ç½®ä¿¡æ¯
2. é”™è¯¯æ—¥å¿—
3. æ“ä½œæ­¥éª¤
4. é¢„æœŸç»“æœ

è”ç³»æ–¹å¼ï¼š
- é‚®ç®±: service@crf.hk
- ç”µè¯: +852 61588111

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-22)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒNode.js 18 LTS
- é›†æˆJKOPAYæ”¯ä»˜
- å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- å“åº”å¼è®¾è®¡æ”¯æŒ

---

**é¦™æ¸¯äº¬ä¸–ç›ˆæœ‰é™å…¬å¸** - å°ˆæ¥­é¢¨æ°´æ“ºä»¶ä¾›æ‡‰å•†
